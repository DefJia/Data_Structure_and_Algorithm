# 2015级数学学院数据结构

[TOC]

## 7. [连连看游戏](http://online.bit.edu.cn/moodle/mod/programming/view.php?id=70936)

### 概述

​	在矩阵中，判断两个元素A, B是否可以通过最多三条线连接。

### 思路

构造时，非空块权重为-1，其余为INF(即与A点已知的距离)，随着不断操作更新。

#### 广度优先搜索

1. 定义队列Q，将A入队。（以下各步骤一旦遇到B点，便跳出）
2. A出队，入队所有与A可通过一条直线连接的点，并将它们的权重更新为1
3. 依次出队权重为1的点，入队所有与其可通过两条直线连接的点（跳过权重为1的点），并将它们的权重更新为2
4. 依次出队权重为2的点，入队所有与其可通过三条直线连接的点（跳过权重为1和2的点），并将它们的权重更新为3
5. 如果还没跳出循环，则B与A不可用3条或3条以下的直线连接

#### 简单方法

1. 定义队列Q，将A入队。

2. A出队，入队所有与A可通过一条直线连接的点，如果遇到B，则AB可通过一条直线连接，跳出循环。

3. 对队列中的每个点，判断其是否可以与B通过两条直线连接

   具体方法是：遍历该点和B之间的折线路径（两条），如果路径时没有权值为-1的点，则AB可以通过3条（或2条）直线连接；反之，如果队列已空，还没有找到，则不可以。

### 参考资料

- [连连看算法（判断两个图是否可消除）](https://blog.csdn.net/zypuestc/article/details/8917817)
- 《编程之美》 《编程之美》小组 电子工业出版社 P86